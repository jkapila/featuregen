
.. DO NOT EDIT.
.. THIS FILE WAS AUTOMATICALLY GENERATED BY SPHINX-GALLERY.
.. TO MAKE CHANGES, EDIT THE SOURCE PYTHON FILE:
.. "example_gallery/grouped_transformatio.py"
.. LINE NUMBERS ARE GIVEN BELOW.

.. only:: html

    .. note::
        :class: sphx-glr-download-link-note

        Click :ref:`here <sphx_glr_download_example_gallery_grouped_transformatio.py>`
        to download the full example code

.. rst-class:: sphx-glr-example-title

.. _sphx_glr_example_gallery_grouped_transformatio.py:


Grouped Varaible Transformation Example
=======================================

A group wise behaviour is very common in panel data. Now making transofmration on
whole from one prespectives would not be ideal and may cause more harm than solving the
scaling problem.

To keep the consistency of the transformation within groups GroupedVariableTransformation
can be used. Following is very minimilatic example of the same.

.. GENERATED FROM PYTHON SOURCE LINES 13-19

.. code-block:: default
   :lineno-start: 15



    import pandas as pd
    from featuregen import GroupedVariableTransformation



.. GENERATED FROM PYTHON SOURCE LINES 20-21

Creating a grouped data set with range differnece in values

.. GENERATED FROM PYTHON SOURCE LINES 21-24

.. code-block:: default
   :lineno-start: 21

    df = pd.DataFrame({'attribute':['A','A','A','A','A','A','B','B','B','B','B','B'],
                       'value':[1,2,4,5,3,6,100,33,44,77,77,99]})
    print(df)

.. GENERATED FROM PYTHON SOURCE LINES 25-26

Instantiating model calss with relevtant attributes

.. GENERATED FROM PYTHON SOURCE LINES 26-29

.. code-block:: default
   :lineno-start: 26

    gvt = GroupedVariableTransformation(key='attribute',target='value')
    print(gvt)


.. GENERATED FROM PYTHON SOURCE LINES 30-31

Fitting our grouped data in transformer

.. GENERATED FROM PYTHON SOURCE LINES 31-33

.. code-block:: default
   :lineno-start: 31

    gvt.fit(df)


.. GENERATED FROM PYTHON SOURCE LINES 34-35

Transforming data toe scale with zscore strategy

.. GENERATED FROM PYTHON SOURCE LINES 35-38

.. code-block:: default
   :lineno-start: 35

    df_tr = gvt.transform(df)
    print(df_tr)


.. GENERATED FROM PYTHON SOURCE LINES 39-40

Inverse transforming the  data back based on groupwise learned scale.

.. GENERATED FROM PYTHON SOURCE LINES 40-43

.. code-block:: default
   :lineno-start: 40

    df_inv = gvt.inverse_transform(df_tr)
    print(df_inv)



.. rst-class:: sphx-glr-timing

   **Total running time of the script:** ( 0 minutes  0.000 seconds)


.. _sphx_glr_download_example_gallery_grouped_transformatio.py:


.. only :: html

 .. container:: sphx-glr-footer
    :class: sphx-glr-footer-example



  .. container:: sphx-glr-download sphx-glr-download-python

     :download:`Download Python source code: grouped_transformatio.py <grouped_transformatio.py>`



  .. container:: sphx-glr-download sphx-glr-download-jupyter

     :download:`Download Jupyter notebook: grouped_transformatio.ipynb <grouped_transformatio.ipynb>`


.. only:: html

 .. rst-class:: sphx-glr-signature

    `Gallery generated by Sphinx-Gallery <https://sphinx-gallery.github.io>`_
